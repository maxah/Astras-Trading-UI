<div class="d-flex mobile-dashboard" *transloco="let t">
  <nz-tabset
    *ngIf="widgets$ | async as widgets"
    nzTabPosition="bottom"
    nzSize="large"
    class="mobile-dashboard-menu"
    [nzAnimated]="false"
    #tabs
  >
    <nz-tab
      #tab
      *ngFor="let widget of widgets"
      nzForceRender
      [nzTitle]="titleTemplate"
    >
      <ng-template #titleTemplate>
        <div class="d-flex flex-column" [class.new-order]="widget.instance.widgetType === newOrderWidgetId">
          <i nz-icon [nzType]="widget.widgetMeta.mobileMeta!.ribbonIcon" class="widget-icon" nzTheme="outline"></i>

          <div class="widget-label">
            <span>{{getWidgetName(widget.widgetMeta)}}</span>
          </div>
        </div>
      </ng-template>
      <ats-parent-widget [widgetInstance]="widget" [isBlockWidget]="false" [isVisible]="tab.isActive"></ats-parent-widget>
    </nz-tab>
  </nz-tabset>
</div>
